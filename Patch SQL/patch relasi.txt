ALTER TABLE `tbabsen` ADD FOREIGN KEY (`IdKaryawan`) REFERENCES `tbmkaryawan`(`IdKaryawan`) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE `tbdinasluar` ADD INDEX(`IdKaryawan`);
ALTER TABLE `tbdinasluar` ADD INDEX(`Tanggal`);
ALTER TABLE `tbdinasluar` ADD FOREIGN KEY (`IdKaryawan`) REFERENCES `tbmkaryawan`(`IdKaryawan`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmbarang` ADD UNIQUE(`NamaBarang`);
ALTER TABLE `tbmbarang` ADD INDEX(`IdJenisBarang`);
ALTER TABLE `tbmbarang` ADD INDEX(`IdPemasok`);
ALTER TABLE `tbmbarang` ADD INDEX(`IdPlastikDalam`);
ALTER TABLE `tbmbarang` ADD INDEX(`IdPlastikLuar`);
ALTER TABLE `tbmbarang` ADD FOREIGN KEY (`IdJenisBarang`) REFERENCES `tbsmjenisbarang`(`IdJenisBarang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmbarang` ADD FOREIGN KEY (`IdPemasok`) REFERENCES `tbmpemasok`(`IdPemasok`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmbarang` ADD FOREIGN KEY (`IdPlastikDalam`) REFERENCES `tbmbaranglain`(`IdBarangLain`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmbarang` ADD FOREIGN KEY (`IdPlastikLuar`) REFERENCES `tbmbaranglain`(`IdBarangLain`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmbaranglain` ADD INDEX(`IdJenisBarangLain`);
ALTER TABLE `tbmbaranglain` ADD FOREIGN KEY (`IdJenisBarangLain`) REFERENCES `tbsmjenisbaranglain`(`IdJenisBarangLain`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmgudang` ADD UNIQUE(`Gudang`);
ALTER TABLE `tbmkaryawan` ADD UNIQUE(`NamaKaryawan`);
ALTER TABLE `tbmkaryawan` ADD INDEX(`IdJenisKaryawan`);
ALTER TABLE `tbmkaryawan` ADD FOREIGN KEY (`IdJenisKaryawan`) REFERENCES `tbsmjeniskaryawan`(`IdJenisKaryawan`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmpartai` ADD INDEX(`IdBarang`);
ALTER TABLE `tbmpartai` ADD INDEX(`Tanggal`);
ALTER TABLE `tbmpartai` ADD FOREIGN KEY (`IdBarang`) REFERENCES `tbmbarang`(`IdBarang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbmpemasok` ADD UNIQUE(`Pemasok`);
ALTER TABLE `tbmpeminta` ADD UNIQUE(`Peminta`);
ALTER TABLE `tbmpenerima` ADD UNIQUE(`Penerima`);
DROP TABLE `tbmutasi`;
ALTER TABLE `tbpacking` ADD INDEX(`NoPoles`);
ALTER TABLE `tbpacking` ADD INDEX(`NoPacking`);
ALTER TABLE `tbpacking` ADD INDEX(`Tanggal`);
ALTER TABLE `tbpacking` ADD INDEX(`IdKaryawan`);
ALTER TABLE `tbpacking` ADD INDEX(`IdPartai`);
ALTER TABLE `tbpacking` ADD INDEX(`IdBarangHasil`);
ALTER TABLE `tbpacking` ADD FOREIGN KEY (`IdKaryawan`) REFERENCES `tbmkaryawan`(`IdKaryawan`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpacking` ADD FOREIGN KEY (`IdPartai`) REFERENCES `tbmpartai`(`IdPartai`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpacking` ADD FOREIGN KEY (`IdBarangHasil`) REFERENCES `tbmbarang`(`IdBarang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenerimaan` ADD INDEX(`NoPenerimaan`);
ALTER TABLE `tbpenerimaan` ADD INDEX(`Tanggal`);
ALTER TABLE `tbpenerimaan` ADD INDEX(`IdPartai`);
ALTER TABLE `tbpenerimaan` ADD INDEX(`IdPeminta`);
ALTER TABLE `tbpenerimaan` ADD FOREIGN KEY (`IdPartai`) REFERENCES `tbmpartai`(`IdPartai`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenerimaan` ADD FOREIGN KEY (`IdPeminta`) REFERENCES `tbmpeminta`(`IdPeminta`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualan` ADD UNIQUE(`NoTransaksi`);
ALTER TABLE `tbpenjualan` ADD INDEX(`NoDO`);
ALTER TABLE `tbpenjualan` ADD INDEX(`Tanggal`);
ALTER TABLE `tbpenjualan` ADD INDEX(`IdJenisPenjualan`);
ALTER TABLE `tbpenjualan` ADD INDEX(`IdKendaraan`);
ALTER TABLE `tbpenjualan` ADD INDEX(`IdGudang`);
ALTER TABLE `tbpenjualan` ADD INDEX(`IdPenerima`);
ALTER TABLE `tbpenjualan` ADD FOREIGN KEY (`IdJenisPenjualan`) REFERENCES `tbsmjenispenjualan`(`IdjenisPenjualan`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualan` ADD FOREIGN KEY (`IdKendaraan`) REFERENCES `tbmkendaraan`(`IdKendaraan`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualan` ADD FOREIGN KEY (`IdGudang`) REFERENCES `tbmgudang`(`IdGudang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualan` ADD FOREIGN KEY (`IdPenerima`) REFERENCES `tbmpenerima`(`IdPenerima`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualandetail` ADD INDEX(`NoTransaksi`);
ALTER TABLE `tbpenjualandetail` ADD INDEX(`IdBarang`);
ALTER TABLE `tbpenjualandetail` ADD INDEX(`IdPartai`);
ALTER TABLE `tbpenjualandetail` ADD INDEX(`IdBarangLain`);
ALTER TABLE `tbpenjualandetail` ADD FOREIGN KEY (`NoTransaksi`) REFERENCES `tbpenjualan`(`NoTransaksi`) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE `tbpenjualandetail` ADD FOREIGN KEY (`IdBarang`) REFERENCES `tbmbarang`(`IdBarang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualandetail` ADD FOREIGN KEY (`IdPartai`) REFERENCES `tbmpartai`(`IdPartai`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenjualandetail` ADD FOREIGN KEY (`IdBarangLain`) REFERENCES `tbmbaranglain`(`IdBarangLain`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenyesuaian` ADD UNIQUE(`NoPenyesuaian`);
ALTER TABLE `tbpenyesuaian` ADD INDEX(`Tanggal`);
ALTER TABLE `tbpenyesuaian` ADD INDEX(`IdPartai`);
ALTER TABLE `tbpenyesuaian` ADD FOREIGN KEY (`IdBarang`) REFERENCES `tbmbarang`(`IdBarang`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenyesuaian` ADD FOREIGN KEY (`IdPartai`) REFERENCES `tbmpartai`(`IdPartai`) ON DELETE RESTRICT ON UPDATE CASCADE;
ALTER TABLE `tbpenyesuaianlain` ADD UNIQUE(`NoPenyesuaian`);
ALTER TABLE `tbpenyesuaianlain` ADD INDEX(`Tanggal`);
ALTER TABLE `tbpenyesuaianlain` ADD FOREIGN KEY (`IdBarangLain`) REFERENCES `tbmbaranglain`(`IdBarangLain`) ON DELETE RESTRICT ON UPDATE CASCADE;
DROP TABLE `tbpoles`;
DROP TABLE `tbpolesdetail`;
ALTER TABLE `tbsmjenisbarang` ADD UNIQUE(`JenisBarang`);
ALTER TABLE `tbsmjenisbaranglain` ADD UNIQUE(`JenisBarangLain`);
ALTER TABLE `tbsmjeniskaryawan` ADD UNIQUE(`JenisKaryawan`);
ALTER TABLE `tbsmjenispenjualan` ADD UNIQUE(`JenisPenjualan`);
ALTER TABLE `tbtpb` ADD INDEX(`Tanggal`);
ALTER TABLE `tbtpb` ADD UNIQUE(`NoTpb`);